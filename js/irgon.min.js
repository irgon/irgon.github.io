(function(c){var f={CODES:{en:"en-US",pl:"pl-PL"},BACKCODES:{"en-US":"en","pl-PL":"pl"},map:{},currentLanguage:null,init:function(){var a=this;this.currentLanguage=(document.cookie.match(/language=([a-z]{2})/)?document.cookie.match(/language=([a-z]{2})/)[1]:null)||this.BACKCODES[window.navigator.userLanguage]||this.BACKCODES[window.navigator.language]||this.BACKCODES[c("html").attr("lang")];c("body").addClass("loading").addClass("loading-lang");c.ajax({url:"/js/translations.json",dataType:"json",
success:function(b){a.map=b;a.translate(a.currentLanguage);c("body").removeClass("loading").removeClass("loading-lang")}});c("#languages a").click(function(b){b.preventDefault();a.setCurrentLanguage(c(this).data("lang"));a.translate(a.currentLanguage)})},setCurrentLanguage:function(a){this.currentLanguage=a;document.cookie="language="+a},translate:function(a){var b=this.map[a],d;if(b)for(d in b)b.hasOwnProperty(d)&&c(d).html(b[d]);c("html").attr("lang",this.CODES[a])}},h={TECH:{html:["HTML","HyperText Markup Language"],
xhtml:["XHTML","eXtensible HyperText Markup Language"],css:["CSS","Cascading Style Sheets"],js:["JS","JavaScript"],php:["PHP","PHP: Hypertext Preprocessor"],mysql:["MySQL"],ruby:["Ruby"]},MONTHS:{"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},list:[],currentPost:null,postCache:{},currentUrl:null,init:function(){c("body").addClass("loading");this.arrowsContainer=c("#portfolio .arrows");this.listContainer=c("#portfolio ul.portfolio");
this.postContainer=c("#portfolio div.portfolio");this.sliderContainer=c("#slider");this.imgPreview=this.postContainer.find("img.preview");this.imgPreview.bind("load",function(){c("body").removeClass("loading")});var a=this;c.ajax({url:"/js/portfolio.json",dataType:"json",success:function(b){a.list=b;a.watchUrl()}});c("> li > a",this.listContainer).click(function(b){var d=c(this).attr("href").replace(/^[a-zA-Z0-9_\-\/]*\//,"").replace(/\.html$/,"");b.preventDefault();a.fetchPost(d)});c(".list a",this.arrowsContainer).click(function(b){b.preventDefault();
a.showList()});c(".prev a",this.arrowsContainer).click(function(b){b.preventDefault();a.showPreviousPost()});c(".next a",this.arrowsContainer).click(function(b){b.preventDefault();a.showNextPost()});c(document).bind(c.browser.opera?"keypress":"keydown",function(b){if(117===b.keyCode||117===b.charCode)b.preventDefault(),window.location.href="https://github.com/irgon/irgon.github.com/";if(!b.charCode)switch(b.keyCode){case 37:b.preventDefault();a.showPreviousPost();break;case 40:b.preventDefault();
a.postContainer.is(":visible")?a.showList():(b=a.currentPost||a.list[0],a.fetchPost(b));break;case 39:b.preventDefault(),a.showNextPost()}});c("#top a").attr("href","#");c("body").removeClass("loading")},watchUrl:function(){var a=this;setInterval(function(){var b=window.location.hash.replace(/^#!\//,"").replace(/\/?$/,"");a.currentUrl!==b&&(a.currentUrl=b,-1<c.inArray(b,a.list)?a.fetchPost(b):window.location.href.match(/[0-9]{4}\/[0-9]{2}\/[0-9]{2}/)||a.showList())},100)},showList:function(){c("#content").addClass("view-list").removeClass("view-item");
this.arrowsContainer.fadeOut(1E3,function(){c(this).parent().addClass("list")});this.postContainer.hide();this.listContainer.show();this.sliderContainer.show();window.location.href="/#!/"},showPreviousPost:function(){var a=this.list[c.inArray(this.currentPost,this.list)-1];a&&this.fetchPost(a)},showNextPost:function(){var a=this.list[c.inArray(this.currentPost,this.list)+1];a&&this.fetchPost(a)},fetchPost:function(a){c("body").addClass("loading");this.imgPreview.attr("src","");if(this.currentUrl!==
a)window.location.href="/#!/"+a;else{var b=this;this.postCache[a]?this.showPost(this.postCache[a]):c.ajax({url:"/js/posts/"+a+".json",dataType:"json",success:function(a){b.showPost.call(b,a)}})}},showPost:function(a){var b,d,g=a.date.split("-"),e=c(".technologies",this.postContainer);this.sliderContainer.hide();this.currentPost=a.id;this.postCache[a.id]||(this.postCache[a.id]=a);this.postContainer.find("h3").html(a.title+" <cite>"+a.cite+"</cite>");for(b in a.description)a.description.hasOwnProperty(b)&&
this.postContainer.find(".translate-"+b).html(a.description[b]);e.empty();for(d in a.technologies)a.technologies.hasOwnProperty(d)&&(b=a.technologies[d],e.append(c("<li>"+(this.TECH[d][1]?'<abbr title="'+this.TECH[d][1]+'">':"")+this.TECH[d][0]+(b?" "+b:"")+(this.TECH[d][1]?"</abbr>":"")+"</li>")));c("li:last",e).addClass("last");e.append(c('<li class="date"><span class="'+this.MONTHS[g[1]].toLowerCase()+'">'+this.MONTHS[g[1]]+"</span> "+g[0]+"</li>"));a.preview&&e.append(c('<li class="preview"><a href="/'+
a.id+'/" target="_blank">See preview</a></li>'));a.online&&e.append(c('<li class="online"><a href="'+a.url+'" target="_blank" rel="nofollow">See online</a></li>'));this.arrowsContainer.fadeIn(1E3,function(){c(this).parent().removeClass("list")});f.translate(f.currentLanguage);this.imgPreview.attr("src","/images/posts/"+a.id+".jpg");0<this.imgPreview.height()&&c("body").removeClass("loading");c("#content").addClass("view-item").removeClass("view-list");this.postContainer.show();this.listContainer.hide()},
sliderJsFallback:function(){var a=this;this.sliderContainer.find("li").css("opacity",1).hide().filter(":first").show();setInterval(function(){var b=a.sliderContainer.find("li:visible");b.fadeOut(1E3);b.next().is("li")?b.next().fadeIn():b.parent().find(":first").fadeIn(1E3)},5E3)}};c(document).ready(function(){c("body").removeClass("no-js");f.init();h.init();"undefined"===typeof document.body.style.MozAnimation&&("undefined"===typeof document.body.style.WebkitAnimation&&"undefined"===typeof document.body.style.OAnimation&&
"undefined"===typeof document.body.style.MsAnimation&&"undefined"===typeof document.body.style.Animation)&&(c("body").addClass("no-anim"),h.sliderJsFallback());c("#top h1 a").fitText(0.433)});c(window).on("resize",function(){var a=c("#slider"),b=a.find("img"),d=a.find("li");a.height(0.618033988*a.width());b.width(a.width());d.width(b.width()).height(b.height()).css("marginTop","-"+b.height()/2+"px").css("marginLeft","-"+b.width()/2+"px")}).resize()})(jQuery);